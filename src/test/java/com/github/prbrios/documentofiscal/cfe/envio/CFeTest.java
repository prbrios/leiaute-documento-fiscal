package com.github.prbrios.documentofiscal.cfe.envio;

import com.github.prbrios.documentofiscal.DFPersister;
import org.junit.Test;

import java.io.File;

import static org.junit.Assert.assertTrue;

public class CFeTest
{

    @Test
    public void shouldAnswerWithTrue() {

        String xml = "<CFe><infCFe Id=\"CFe35191123860650000293590001876310000017792760\" versao=\"0.08\" versaoDadosEnt=\"0.08\" versaoSB=\"030000\"><ide><cUF>35</cUF><cNF>779276</cNF><mod>59</mod><nserieSAT>000187631</nserieSAT><nCFe>000001</nCFe><dEmi>20191119</dEmi><hEmi>145055</hEmi><cDV>0</cDV><tpAmb>1</tpAmb><CNPJ>01302882000102</CNPJ><signAC>V23RspxCG9ZdoYsroLUGyR7ci5Km21sbdOnSAfOG1q4PxUo9KnM5vzJpdj8XY3JodFoGmxxdx19reUKalS5VoASOFriq5Cabdf+2b+YP2mkFk22Hk+J3FceN7CN9Og7DryZn0s34SPV3yfZRdHy7vfc/a7Eug76D9FLthHPYspj2xr55xc5uRl9U7KQJsyGQ7vr9o3L+uw5c53XC3dbp0T6ZnxkDVNb9Ba+RSWuzCVrPL3au8+I4WBxiVjZW/IuhVTNg9LGhfvclrV16xpXybP/xNtFt5n1OxRo4hVIrNGCvpozA4BMGyGjEssw6Ayy6lqkjgyWdrCAjoF9D2uIDgw==</signAC><assinaturaQRCODE>fGvkXdUgbr+YlfPXtNqextHoc/M9Hmm0q09AcPLza4vMZOcXCAXkqkF0AvJ2oftmOOuhunUKHP1dKvnkWomqFGsKZXEIbupQCDanfGjcJeP69ZnQQ0fH7XuIABKaQj4VL9r5eJJFDia3/pPsHbWG0NCPlG99LljQh4Mxp1qelz+RWpENWnZu8CBhQVkAYJhTQLjiefV3tRfxWKcT84slXZedwng89hxzKZckToT9QKyZqpF4YI/w1sZZlauhb22XrbvtQYJ4rTgh+lj+4qNuqHBNk0P0KTFaAWq2kfrPDPuFBBChVmhDtop0Pp4Xu5+Vig23Q2z+GsJVt7UEA+9D3A==</assinaturaQRCODE><numeroCaixa>001</numeroCaixa></ide><emit><CNPJ>23860650000293</CNPJ><xNome>GOB COMERCIO DE ARTIGOS ELETRONICOS E ACESSORIOS LTDA</xNome><enderEmit><xLgr>AVENIDA PAULISTA</xLgr><nro>1230</nro><xCpl>TERREO Q005</xCpl><xBairro>BELA VISTA</xBairro><xMun>SAO PAULO</xMun><CEP>01310100</CEP></enderEmit><IE>123706267118</IE><cRegTrib>1</cRegTrib><indRatISSQN>N</indRatISSQN></emit><dest><CPF>95879846334</CPF></dest><det nItem=\"1\"><prod><cProd>0000079000001</cProd><xProd>CARREGADOR PERSONALIZADO IPHONEANDROID DUPLO USB DE PAREDE GOCASE WORLD TRIP</xProd><NCM>85044010</NCM><CFOP>5102</CFOP><uCom>UNI</uCom><qCom>1.0000</qCom><vUnCom>109.90</vUnCom><vProd>109.90</vProd><indRegra>A</indRegra><vItem>109.90</vItem></prod><imposto><vItem12741>0.00</vItem12741><ICMS><ICMSSN102><Orig>2</Orig><CSOSN>102</CSOSN></ICMSSN102></ICMS><PIS><PISSN><CST>49</CST></PISSN></PIS><COFINS><COFINSSN><CST>49</CST></COFINSSN></COFINS></imposto></det><total><ICMSTot><vICMS>0.00</vICMS><vProd>109.90</vProd><vDesc>0.00</vDesc><vPIS>0.00</vPIS><vCOFINS>0.00</vCOFINS><vPISST>0.00</vPISST><vCOFINSST>0.00</vCOFINSST><vOutro>0.00</vOutro></ICMSTot><vCFe>109.90</vCFe><vCFeLei12741>0.00</vCFeLei12741></total><pgto><MP><cMP>01</cMP><vMP>109.90</vMP></MP><vTroco>0.00</vTroco></pgto><infAdic><infCpl>Vendedor: EDISIO(000130);Operador: EDISIO(000130)</infCpl></infAdic><obsFisco xCampo=\"04.06.05.04\"><xTexto>Comete crime quem sonega</xTexto></obsFisco></infCFe><Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"><SignedInfo><CanonicalizationMethod Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\"></CanonicalizationMethod><SignatureMethod Algorithm=\"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\"></SignatureMethod><Reference URI=\"#CFe35191123860650000293590001876310000017792760\"><Transforms><Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"></Transform><Transform Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\"></Transform></Transforms><DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\"></DigestMethod><DigestValue>pq0UGDYUZ4luQHOvWuI/Yr4HgIq1C5e1czlDLL4VrwQ=</DigestValue></Reference></SignedInfo><SignatureValue>Tazs4Jr0A3Dcsg4vclXS/WsvpTDznMjdknZGZIUsUWqY1o6xo29b1Po95OkXehHVA5666yKuI2G5DKPtD4yu0AkuBcIjfvZ9roz7DTnE1rJlYan0MDLeKm/2jqvuJrEEOynR7eDaa6VuNeGyeiZuvAswZQCEMP1cLVEZkUlgDG0QBiyt61vL++Uc+3U2XulL997Uv+Wd4xnY5E2X+UVNiJPSIb2rqRwM8MYQwKA5kliY4Im8vc0kV5OuUdEV35EfwdqVlu9Rjfce/KvnYjVixLpT5+1FbyAiyyvhnh7VXIi5ZdUPmh5J/BBhCSsOZIeTNKHe7iBLgWtbDw1bRduJyQ==</SignatureValue><KeyInfo><X509Data><X509Certificate>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</X509Certificate></X509Data></KeyInfo></Signature></CFe>";

        DFPersister dfp = new DFPersister<CFe>(){};
        CFe obj = (CFe) dfp.read(xml);

        System.out.println(obj.getInfCFe().getIde().getNCFe());

        assertTrue( true );
    }

}
